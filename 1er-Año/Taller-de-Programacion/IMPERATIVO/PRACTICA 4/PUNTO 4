program prac4punto5;
type
	rangoMes =1..12;
	rangoDias = 1..31;
	
	prestamo = record
		ISBN : integer;
		numSocio:integer;
		dia:rangoDias;
		mes:rangoMes;
		cantDias:integer;
	end;

	arbol1 = ^nodo1;
	nodo1 = record
		dato:prestamo;
		hi:arbol1;
		hd: arbol1;
	end;
	
	lista = ^nodoL;
	
	nodoL = record
		dato :prestamo;
		sig: lista;
	end;
	
	arbol2 = ^nodo2;
	nodo2 = record
		ISBN :integer;
		dato : lista;
		hi: arbol2;
		hd:arbol2;
	end;
	
	procedure leerPrestamo(var p:prestamo);
	begin
		writeln('Ingrese ISBN');
		readln(p.ISBN);
		if (p.ISBN <> 0) then begin
			writeln('Ingrese numero de socio');
			readln(p.numSocio);
			writeln('Ingrese dia');
			readln(p.dia);
			writeln('Ingrese mes');
			readln(p.mes);
			writeln('Ingrese cantidad de dias');
			readln(p.cantDias);
		end;
	end;
	
	procedure cargarArbol1(var a1:arbol1;p:prestamo);
	begin
		if (a1 = nil) then begin
			new(a1);
			a1^.dato.ISBN := p.ISBN;
			a1^.dato.numSocio := p.numSocio;
			a1^.dato.dia:= p.dia;
			a1^.dato.mes := p.mes;
			a1^.dato.cantDias := p.cantDias;
			a1^.hi := nil;
			a1^.hd := nil;
		end
		else if (p.ISBN < a1^.dato.ISBN) then
				cargarArbol1(a1^.hi,p)
			else 
				cargarArbol1(a1^.hd,p);
 	end;
	
	procedure agregarALaLista(var l: lista; p:prestamo);
	var
		nue:lista;
	begin
		new(nue);
		nue^.dato := p;
		nue^.sig := l;
		l := nue;
	end;
	
	procedure cargarArbol2(var a2 : arbol2; p:prestamo);
	begin
		if (a2 = nil) then begin
			new(a2);
			a2^.ISBN := p.ISBN;
			agregarALaLista(a2^.dato,p);
			a2^.hi := nil;
			a2^.hd:= nil;
		end
		else if (p.ISBN < a2^.ISBN) then
				cargarArbol2(a2^.hi,p);
			else if (p.ISBN > a2^.ISBN) theb
					cargarArbol2(a2^.hd,p)
				else
					agregarALaLista(a2^.dato,p);
	end;

	procedure procesaraArboles(var a1:arbol1 ; var a2: arbol2);
	var
		p:prestamo;
	begin
		leerPrestamo(p);
		while (p.ISBN <> 0) do begin
			cargarArbol1(a1,p);
			cargarArbol2(a2,p);
			leerPrestamo(p);
		end;
	end;
begin
	a1:=nil;
	a2:=nil;
	
end.
