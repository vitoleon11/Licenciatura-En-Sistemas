programa ejemplo
procesos
  proceso juntarFlores(ES f:numero)
  comenzar
    mientras HayFlorEnLaEsquina
      tomarFlor
      f := f+1
  fin
  proceso primerTramoRojo(ES f :numero)
  comenzar
    repetir 96
      juntarFlores(f)
      mover 
    juntarFlores(f)
  fin
  
  proceso juntarPapeles(ES p:numero)
  comenzar
    mientras HayPapelEnLaEsquina
      tomarPapel
      p:= p +1
  fin
  
  proceso segundoTramoAzul(ES p:numero)
  comenzar
    repetir 96 
      juntarPapeles(p)
      mover
    juntarPapeles(p)
  fin
  
areas
  ciudad: AreaC (1,1,100,100)
robots

  robot azul
  variables
    p,id:numero
  comenzar
    RecibirMensaje(id,fiscalizador)
    derecha
    juntarPapeles(p)
    BloquearEsquina(PosAv+1,PosCa)
    mover
    juntarPapeles(p)
    BloquearEsquina(PosAv+1,PosCa)
    mover
    LiberarEsquina(PosAv-1,PosCa)
    juntarPapeles(p)
    mover
    LiberarEsquina(PosAv-1,PosCa)
    segundoTramoAzul(p)
    EnviarMensaje(id,fiscalizador)
    EnviarMensaje(p,fiscalizador)
  fin
  
  robot rojo
  variables
    f,id:numero
  comenzar
    RecibirMensaje(id,fiscalizador)
    f := 0
    primerTramoRojo(f)
    BloquearEsquina(PosAv,PosCa +1)
    mover
    juntarFlores(f)
    BloquearEsquina(PosAv,PosCa+1)
    mover
    LiberarEsquina(PosAv,PosCa-1)
    juntarFlores(f)
    mover
    LiberarEsquina(PosAv,PosCa-1)
    juntarFlores(f)
    EnviarMensaje(id,fiscalizador)
    EnviarMensaje(f,fiscalizador)
  fin
  
  robot fisca
  variables
    id,cantEquipoAzul,cantEquipoRojo,cantFlores,cantPapeles:numero
  comenzar
    EnviarMensaje(1,A1)
    EnviarMensaje(2,A2)
    EnviarMensaje(3,R1)
    EnviarMensaje(4,R2)
    cantEquipoAzul := 0
    cantEquipoRojo := 0
    repetir 4
      RecibirMensaje(id,*)
      si (id = 1)
        RecibirMensaje(cantPapeles,A1)
        cantEquipoAzul := cantEquipoAzul + cantPapeles
      sino
        si (id = 2)
          RecibirMensaje(cantPapeles,A2)
          cantEquipoAzul := cantEquipoAzul + cantPapeles
        sino 
          si (id = 3)
            RecibirMensaje(cantFlores,R1)
            cantEquipoRojo := cantEquipoRojo + cantFlores
          sino
            RecibirMensaje(cantFlores,R2)
            cantEquipoRojo := cantEquipoRojo + cantFlores
    si (cantEquipoAzul > cantEquipoRojo)
      Informar(1)
    sino
      si (cantEquipoRojo > cantEquipoAzul)
        Informar(2)
      sino
        Informar(0)
  fin
variables
  A1: azul
  A2: azul
  R1 :rojo
  R2: rojo
  fiscalizador:fisca
comenzar
  AsignarArea(A1, ciudad)
  AsignarArea(A2, ciudad)
  AsignarArea(R1, ciudad)
  AsignarArea(R2, ciudad)
  AsignarArea(fiscalizador, ciudad)
  Iniciar(R1, 2,1)
  Iniciar(R2, 3,1)
  Iniciar(A1, 1,98)
  Iniciar(A2, 1,99)
  Iniciar(fiscalizador,1,1)
fin
