programa punto1
procesos 
  proceso tomarFlores(ES f :numero)
  comenzar
    mientras HayFlorEnLaEsquina
      tomarFlor
      f := f + 1
  fin
  proceso tomarPapeles(ES p:numero)
  comenzar
    mientras HayPapelEnLaEsquina
      tomarPapel
      p := p + 1
  fin
  proceso callePapeles (ES cantPapeles:numero)
  variables
    p:numero
  comenzar
    cantPapeles:= 0
    tomarPapeles(p)
    cantPapeles:= cantPapeles + p
    BloquearEsquina(2,PosCa)
    mover
    tomarPapeles(p)
    cantPapeles:= cantPapeles + p
    BloquearEsquina(3,PosCa)
    mover
    LiberarEsquina(2,PosCa)
    tomarPapeles(p)
    cantPapeles:= cantPapeles + p
    mover
    LiberarEsquina(3,PosCa)
    mientras (PosAv < 100)
      tomarPapeles(p)
      cantPapeles:= cantPapeles + p
      mover
  fin
  proceso avenidaFlores(ES cantFlores: numero)
  variables
    f:numero
  comenzar
    cantFlores :=0 
    mientras (PosCa < 100)
      tomarFlores(f)
      cantFlores := cantFlores + f
      si ((PosCa +1 = 98) | (PosCa +1 = 99))
        BloquearEsquina(PosAv,PosCa +1)
      mover
      si ((PosCa - 1 = 98) | (PosCa -1 = 99))
        LiberarEsquina(PosAv, PosCa -1)
      tomarFlores(f)
      cantFlores := cantFlores + f
  fin
  
areas
  ciudad: AreaC(1,1,100,100)
robots
  robot rojo
  variables
    cantFlores,id:numero
  comenzar
    RecibirMensaje(id,fisca)
    avenidaFlores(cantFlores)
    EnviarMensaje(id,fisca)
    EnviarMensaje(cantFlores,fisca)
  fin
  
  robot azul
  variables
    cantPapeles,id:numero
  comenzar
    RecibirMensaje(id,fisca)
    derecha
    callePapeles(cantPapeles)
    EnviarMensaje(id,fisca)
    EnviarMensaje(cantPapeles,fisca)
  fin
  
  robot fiscalizador
  variables
    totalPapelesAzul,totalFloresRojo,id,cantFlores,cantPapeles:numero
  comenzar
    EnviarMensaje(1,R1)
    EnviarMensaje(2,R2)
    EnviarMensaje(3,A1)
    EnviarMensaje(4,A2)
    totalPapelesAzul:= 0
    totalFloresRojo := 0
    repetir 4
      RecibirMensaje(id,*)
      si (id = 1)
        RecibirMensaje(cantFlores,R1)
        totalFloresRojo:= totalFloresRojo + cantFlores
      sino
        si (id = 2)
          RecibirMensaje(cantFlores,R2)
          totalFloresRojo:= totalFloresRojo + cantFlores
        sino
          si (id = 3)
            RecibirMensaje(cantPapeles,A1)
            totalPapelesAzul:= totalPapelesAzul + cantPapeles
          sino
            RecibirMensaje(cantPapeles,A2)
            totalPapelesAzul:= totalPapelesAzul + cantPapeles
    si (totalPapelesAzul > totalFloresRojo)
      Informar(1)
    sino
      si (totalFloresRojo > totalPapelesAzul)
        Informar(2)
      sino
        Informar(0)
  fin
variables
  R1 : rojo
  R2 : rojo
  A1: azul
  A2: azul
  fisca: fiscalizador
comenzar
  AsignarArea(R1, ciudad)
  AsignarArea(R2, ciudad)
  AsignarArea(A1, ciudad)
  AsignarArea(A2, ciudad)
  AsignarArea(fisca,ciudad)
  
  Iniciar(R1,2,1)
  Iniciar(R2,3,1)
  Iniciar(A1,1,98)
  Iniciar(A2,1,99)
  Iniciar(fisca,100,100)
fin
